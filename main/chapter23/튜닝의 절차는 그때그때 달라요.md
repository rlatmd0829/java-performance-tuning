## 성능 튜닝을 위한 아주 기초 법칙

성능 튜닝을 위해서는 아주 기초적인 법칙을 하나를 알아야 한다. 바로 '암달(Amdahl)의 법칙'이라는 것이다.

Gene Amdahl이 1967년에 시스템의 성능 향상에 대한 법칙을 만들었다. 이 법칙을 간단하게 설명하자면, 1 Core에서 20시간 소요되는 작업 중 1시간은 절대 개선할 수 없다면, 20배 이상의 성능 향상은 불가능하다는 법칙이다. 암달의 법칙을 수식으로 표현하면 다음과 같다.

![image](https://github.com/rlatmd0829/java-performance-tuning/assets/70622731/75ab7b8a-9603-4bc6-83cc-00d7fa1059a7)

여기서 P는 개선 가능한 부분의 비율이며, S는 개선된 정도를 말한다.

만약 개선 가능한 부분이 100%이면, P는 1이 된다. 그리고, 2배의 성능 향상이 이루어졌다면, S=2가 된다.

따라서 이 공식을 적용하면,

![image](https://github.com/rlatmd0829/java-performance-tuning/assets/70622731/311b9f1d-38e1-471a-b5cb-7a29c09847df)

가 되며 성능 개선율은 2가 된다.

만약 개선 가능한 부분이 90%라면 P는 0.9가 되고, 그 부분에서 2배의 성능 향상이 되었다면,

![image](https://github.com/rlatmd0829/java-performance-tuning/assets/70622731/9b4d0997-e2d3-486d-83ab-6fb09291f3fa)

이 되기 때문에 성능 개선율은 1.8이 된다.

암달의 법칙을 그래프로 나타내면 다음과 같다.

![image](https://github.com/rlatmd0829/java-performance-tuning/assets/70622731/d346daf2-da5e-4455-bc45-ed2acd145560)

어떤 프로그램이라도 할지라도 위와 같은 패턴을 보일 수 밖에 없으며, 성능 개선에는 한계가 생길 수 밖에 없다.

<br>

## 성능 튜닝 step by step

1. 원인 파악
2. 목표 설정
3. 튜닝 실시
4. 개선율 확인
5. 결과 정리 및 반영

### 원인 파악
성능 저하가 발생하는 원인을 파악하는 단계이다.

이 단계에서 원인 파악을 잘못하면 매우 많은 시간 낭비가 발생할 것이다. 따라서, 어디가 병목인지 확실히 파악하여 원인을 찾아야 한다.

### 




